<!doctype html>
<html>
  <head>
    <script src="https://code.createjs.com/easeljs-0.8.0.min.js"> </script>
    <script src="https://code.createjs.com/tweenjs-0.6.2.min.js"> </script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"> </script>
    <title>User Interface</title>
    <style>
      #canvas {
          border: solid 1px black;
          background-image: url("https://3.bp.blogspot.com/-4Pvk6z4KgDo/V2amIv0ltuI/AAAAAAAAA1E/RSmcBR0o6LE6_mvhcXwrAlLUXbpgPT2qgCLcB/s1600/agario%2Bwhite%2Bbackground.png");
      }
    </style>
  </head> 
  <body>
    <canvas id="canvas"></canvas>
    <script >
      
  var interfaceCircle = document.getElementById("canvas");
    interfaceCircle.width = document.documentElement.clientWidth;
    interfaceCircle.height = document.documentElement.clientHeight;
    var stage = new createjs.Stage("canvas");
    createjs.Touch.enable(stage);

function explode(conf){
  var circle = new createjs.Shape();
  var circleColor = '#'+(Math.random()*0xFFFFFF<<0).toString(16);
  circle.graphics.beginFill(circleColor).drawCircle(0, 0, 40);
  circle.x = conf.x;
  circle.y = conf.y;
  stage.addChild(circle);

  createjs.Tween.get(circle, { loop: false })
    .to({ alpha: 0, scaleX: 8, scaleY: 8}, 2000)

    .call(function(){
      stage.deleteChild(circle);
    });
}

stage.isPressed = true;

stage.on("stagemousedown",function(evt){
  stage.isPressed = true;
});
stage.on("stagemouseup",function(evt){
  stage.isPressed = false;
});
stage.on("stagemousemove",function(evt){
  stage.mouseCoords = {'x':evt.stageX,'y':evt.stageY};
});

function moveHandler(evt){
  if (stage.isPressed){
    explode({'x':stage.mouseCoords.x,'y':stage.mouseCoords.y});
  }
}

createjs.Ticker.setFPS(60);
createjs.Ticker.addEventListener("tick", stage);
createjs.Ticker.addEventListener("tick", moveHandler);

  
    </script>
  </body>
</html>
